{% extends "base.html" %}
{% from "macros.html" import nav_bar_dash %}

{% block title %}EduAce Dashboard{% endblock %}

{% block body %}

    <!-- Static Desktop Sidebar -->
    <div class="col-md-1 sidebar">

        <!-- Logo Row -->
        <div class="sidebar-div text-center">
            <img class="sidebar-image" src="{{ url_for('static', filename='logo.png') }}">
        </div>

        <br><br><br><br>

        <!-- Home Row -->
        <div class="sidebar-div text-center">
            <a href="#">
                <img class="sidebar-image" src="{{ url_for('static', filename='icons/house.svg') }}">
                <p class="text">Dashboard</p>
            </a>
        </div>

        <hr>

        <!-- MCAT Row -->
        <div class="sidebar-div text-center">
            <a href="#">
                <img class="sidebar-image" src="{{ url_for('static', filename='icons/house.svg') }}">
                <p class="active text">MCAT Exam</p>
            </a>
        </div>

        <hr>

        <!-- Example Row -->
        <div class="sidebar-div text-center">
            <a href="#">
                <img class="sidebar-image" src="{{ url_for('static', filename='icons/house.svg') }}">
                <p class="text">Level 1: <br> Algebra</p>
            </a>
        </div>

        <hr>

        <!-- Example Row -->
        <div class="sidebar-div text-center">
            <a href="#">
                <img class="sidebar-image" src="{{ url_for('static', filename='icons/house.svg') }}">
                <p class="text">Level 1: <br> Chance</p>
            </a>
        </div>

    </div>

    <!-- spacer -->
    <div class="col-md-1"></div>

    <!-- Static Desktop Content -->
    <div class="col-md-9">
            <div class="row">

            <!-- Content 'menu' bar -->
            <div class="container content-menu-bar text-center">
                <h3 class="text-right">EduAce</h3>
            </div>

            <!-- MCAT Top Stats -->
            <div class="container content-stats rounded content-row">
                <canvas id="top-stats-graph"></canvas>

                <p class="lead ">YOUR LEARNING <span class="small">(last 7 days)</span></p>
                <div class="row">
                    <div class="col-md-3">
                        <h1>{% if correct_questions_improvement %} ⬆ {% else %} ⬇ {% endif %}  {{ correct_questions }}</h1>
                        <p class="small">CORRECT QUESTIONS</p>
                    </div>
                    <div class="col-md-4">
                        <h1>{% if correct_percent_improvement %} ⬆ {% else %} ⬇ {% endif %} {{ correct_percent }}%</h1>
                        <p class="small">CORRECT PERCENT</p>
                    </div>
                </div>
            </div>
        </div>


        <!-- Container for 2nd row -->
        <div class="row">

            <!-- MCAT Preperation -->
            <div class="container content-mcat-exam rounded content-row col-md-5">
                <canvas id="mcat-graph"></canvas>

                <div class="row">
                    <div class="col-sm-8">
                        <p class=" lead">MCAT PREPERATION</p>
                        <h1>{{ module_percent }}%</h1>
                        <p class="lead small">COMPLETION</p>

                    </div>
                    <div class="col-sm-4">
                        <a href="/quiz/{{ structure_recent }}"><button class="btn btn-outline-light">LAUNCH</button></a>
                        <a href="/_generate_mcat_exam"><button class="btn btn-outline-light">NEW</button></a>
                    </div>
                </div>
            </div>

            <!-- MCAT Course Not Avaliable -->
            <div class="container content-mcat-edu rounded content-row col-md-5">
                <br>
                <p class="lead text-center">MCAT Course</p>
                <p class="text text-center">Not available in Demo</p>
            </div>
        </div>
    </div>


    <!-- Wave Background Generation Scripts -->
    <script>
        var ctx0 = document.getElementById('top-stats-graph').getContext("2d")

        var gradientFill = ctx0.createLinearGradient(0,0,0,170);
        gradientFill.addColorStop(0, "rgba(88,234,229, 1)");
        gradientFill.addColorStop(1, "rgba(151,138, 239, 0.2)");

        var myChart0 = new Chart(ctx0, {
            responsive: true,
            type: 'line',
            data: {
                labels: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
                datasets: [{
                    borderColor:            "rgba(0,0,0,0)",
                    fill:                   true,
                    backgroundColor:        gradientFill,
                    data:                   [0,0,0,0,0,0,0,0, 1, 2, 3, 4, 5, 4, 5, 7, 6, 7, 6, 7] },
                    {
                    borderColor:            "rgba(0,0,0,0)",
                    fill:                   true,
                    backgroundColor:        gradientFill,
                    data:                   [0,0,0,0,0,0, 1, 3, 4, 5, 7,8,6,5,2,1,2,1, 2, 0] },
                ]
            },
            options: {
                legend:                 { display: false},
                scales:                 { yAxes: [{ display: false }], xAxes: [{ display: false }]},
                elements:               { point: { radius: 0 } },
                maintainAspectRatio:    false,
            }
        });

        var ctx1 = document.getElementById('mcat-graph').getContext("2d")

        var gradientFill1 = ctx0.createLinearGradient(0,0,0,170);
        gradientFill1.addColorStop(1, "rgba(231, 115, 233, 1)");
        gradientFill1.addColorStop(0, "rgba(133, 104, 243, 0.2)");

        var myChart1 = new Chart(ctx1, {
            responsive: true,
            type: 'line',
            data: {
                labels: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
                datasets: [{
                    borderColor:            "rgba(0,0,0,0)",
                    fill:                   true,
                    backgroundColor:        gradientFill1,
                    data:                   [0,0,0,0,0,0,0,0, 1, 2, 3, 4, 5, 4, 5, 5, 4, 5, 6, 5, 4] },
                    {
                    borderColor:            "rgba(0,0,0,0)",
                    fill:                   true,
                    backgroundColor:        gradientFill1,
                    data:                   [0,0,0,0,0,0,1, 3, 5, 5, 4, 3, 2, 2, 3, 2, 1, 2, 1] },
                ]
            },
            options: {
                legend:                 { display: false},
                scales:                 { yAxes: [{ display: false }], xAxes: [{ display: false }]},
                elements:               { point: { radius: 0 } },
                maintainAspectRatio:    false,
            }
        });


    </script>

{% endblock %}